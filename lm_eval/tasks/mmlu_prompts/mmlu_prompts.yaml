task: mmlu_prompts
task_alias: mmlu_prompts
tag:
  - multiple_choice

# Use a custom loader so we can optionally swap in the `full_prompt`
# field as the model input when requested via metadata / CLI.
custom_dataset: !function utils.load_dataset
dataset_path: json
dataset_name: null
dataset_kwargs:
  data_files: /home/oh/arubinstein17/github/disco-public/notebooks/mmlu_prompts_examples.json

output_type: multiple_choice
training_split: null
validation_split: null
test_split: train

doc_to_text: "{{query}}"
doc_to_choice: "{{choices}}"
doc_to_target: "{{gold}}"

fewshot_split: null
fewshot_config:
  sampler: first_n

metric_list:
  - metric: acc
    aggregation: mean
    higher_is_better: true
  - metric: acc_norm
    aggregation: mean
    higher_is_better: true

metadata:
  version: 1.0
